<!DOCTYPE html>
<html>
  <head>
    <title>Manager Home Page</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        display: flex;
      }

      .sidebar {
        height: 100vh;
        width: 200px;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        background-color: #111;
        overflow-x: hidden;
        padding-top: 20px;
      }

      .sidebar a {
        padding: 10px 15px;
        text-decoration: none;
        font-size: 16px;
        color: white;
        display: block;
      }

      .sidebar a:hover {
        background-color: #575757; /* Gray */
      }

      .content {
        display: none; /* Sub-buttons disembunyikan secara default */
      }

      h1 {
        color: #4a154b;
      }

      /* Style untuk tombol Manager Reports */
      .collapsible {
        background-color: #111;
        color: white;
        padding: 10px 15px;
        text-align: left;
        text-decoration: none;
        display: block;
        border: none;
        width: 100%;
        cursor: pointer;
        outline: none;
        font-size: 17px;
      }

      /* Ketika tombol Manager Reports diklik, beri warna latar yang berbeda */
      .collapsible.active {
        background-color: #000000;
      }

      /* Style untuk sub-buttons */
      .sub {
        padding-left: 40px; /* Menambahkan indentasi untuk membedakan dari tombol utama */
      }

      /* Style for the "Log Out" button */
      .logout {
        position: absolute; /* Make it absolute to position it at the bottom */
        bottom: 20px; /* Adjust vertical position */
        left: 20px; /* Adjust horizontal position */
        color: white;
        text-decoration: none;
        padding: 10px 15px;
        display: flex;
        align-items: center; /* Align items vertically */
      }

      .logout:hover {
        background-color: #575757; /* Gray on hover */
      }
    </style>
  </head>
  <body>
    <div class="sidebar">
      <a href="/managerViewTrainers">View Trainers</a>
      <a href="/manager_appointment">Appointment Records</a>
      <a href="/manager_add_appointment">Add Appointment</a>
      <a href="/managerViewUsers">View Customers</a>
      <a href="/manager_view_plans">View Plans</a>
      <!-- Tombol Manager Reports -->
      <button class="button collapsible">View Reports &#9660;</button>
      <!-- Sub-buttons -->
      <div class="content">
        <a href="#" id="income" class="sub button">Income</a>
        <a href="#" id="profit" class="sub button">Profit</a>
        <a href="#" id="expenses" class="sub button">Expenses</a>
      </div>
      <!-- Log Out button -->
      <a href="/" class="logout">
        <i class="fa fa-sign-out"></i>
        Log Out
      </a>
    </div>

    <div class="content">
      <h1>Manager Home Page</h1>
    </div>

    <script>
      var toggleButton = document.querySelector(".collapsible");
      var subMenu = document.querySelector(".content");

      toggleButton.addEventListener("click", function () {
        subMenu.style.display =
          subMenu.style.display === "block" ? "none" : "block";
        toggleButton.classList.toggle("active");
      });

      // Fungsi untuk menangani klik pada setiap sub-menu
      function handleSubMenuClick(event) {
        // Mendapatkan tanggal hari ini dalam format 'YYYY-MM-DD'
        var today = new Date().toISOString().slice(0, 10);
        // Mendapatkan ID dari tautan yang diklik
        var id = event.target.id;
        // Mengarahkan ke URL dengan menambahkan tanggal hari ini sebagai parameter 'startDate'
        // dan 'endDate'
        window.location.href =
          "/" + id + "?startDate=" + today + "&endDate=" + today;
      }

      document.querySelectorAll(".sub").forEach(function (sub) {
        sub.addEventListener("click", handleSubMenuClick);
      });
    </script>
  </body>
</html>
